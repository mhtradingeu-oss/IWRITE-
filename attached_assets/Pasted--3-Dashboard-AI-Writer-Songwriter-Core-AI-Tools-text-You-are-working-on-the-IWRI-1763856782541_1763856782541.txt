
---

## 3️⃣ Dashboard + AI Writer + Songwriter (Core AI Tools)

```text
You are working on the IWRITE project.

SECTION: DASHBOARD + AI WRITER + SONGWRITER

GOAL:
Ensure all AI-related core tools are complete and powerful:
- Dashboard summary and quick actions
- AI Writer: generate / edit / save documents, with clear options and limits
- Songwriter: gated for FREE, full for PRO

TASKS:

1) DASHBOARD
- Open Dashboard page component.
- Verify:
  - Metrics cards: total documents, uploaded files, active templates, style profiles (using existing APIs).
  - Recent activity list shows latest documents.
  - Quick Actions:
    - “Create New Document” → navigates to `/ai-writer` pre-focused on prompt.
    - “Upload Files” → `/file-uploads`.
    - “Manage Templates” → `/templates`.
  - Plan card:
    - For FREE: show FREE plan + remaining daily AI generations.
    - For PRO: show PRO badge and “unlimited” text.

2) AI WRITER – CORE FLOWS
- Find `AIWriter.tsx`.
- Ensure the following flows exist and WORK:

  a) NEW DOCUMENT FROM PROMPT
  - Inputs:
    - Prompt textarea
    - Document type dropdown
    - Language (AR/EN/DE)
    - Tone
    - Length
  - Button: “Generate New Document”
  - On click:
    - Call existing AI generation endpoint with those options.
    - Receive generated content.
    - Save as a new document via existing documents API (title based on type + timestamp).
    - Show:
      - Success toast
      - Preview area with generated content
      - “Open in Documents” button to go to `/documents` and open the doc.

  b) REWRITE / SUMMARIZE / TRANSLATE
  - Section “Advanced tools”.
  - Inputs:
    - Source text (textarea or input).
    - Target language (for translate).
    - Tone/length where relevant.
  - Buttons:
    - “Rewrite”
    - “Summarize”
    - “Translate”
  - Each calls correct AI endpoint/preset and shows result in an output panel with copy/save actions.
  - Optionally: “Save as new document” button.

  c) UI HINTS
  - Add short description at top explaining the AI Writer functions.
  - Add “Tips” card with 3–5 bullets.

3) FREE vs PRO LIMITS ON AI WRITER
- For FREE:
  - Show current daily usage and limit on the page.
  - When backend returns “limit exceeded” error, show friendly message and link “Upgrade to PRO”.
- For PRO:
  - Show small PRO badge; no limit message.

4) SONGWRITER
- Find Songwriter page.
- Behavior:
  - If PRO:
    - Inputs:
      - Prompt (idea/theme)
      - Language/dialect (AR Gulf, AR Egyptian, DE, EN, etc.)
      - Style/genre (pop, rap, nasheed, etc.)
      - Mood
    - Button: “Generate Lyrics”.
    - Calls existing AI endpoint for songwriting.
    - Shows result with:
      - Copy button
      - Optional “Save as document” to store lyrics in Documents.
  - If FREE:
    - Do NOT show the full form.
    - Instead show a PRO Upsell:
      - Feature explanation.
      - Button: “Upgrade to PRO” → `/plans` or subscription in settings.

5) VERIFY
- Test as FREE:
  - Use AI Writer to generate a document.
  - Check doc appears in Documents.
  - Songwriter shows upgrade, not tool.
- Test as PRO:
  - AI Writer works with no gating.
  - Songwriter fully works and can save lyrics.

Summarize:
- Changes to Dashboard, AIWriter, Songwriter.
- Exact generation/edit/save flows implemented.
