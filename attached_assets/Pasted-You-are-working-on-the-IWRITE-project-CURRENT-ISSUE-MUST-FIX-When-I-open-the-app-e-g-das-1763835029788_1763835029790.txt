You are working on the IWRITE project.

CURRENT ISSUE (MUST FIX):

- When I open the app (e.g. `/dashboard`), I see a central message:
  â€œ404 Page Not Found â€“ Did you forget to add the page to the router?â€
- The sidebar and footer render correctly, but the main content area is empty with the 404 component.
- This started after adding the new legal pages/footer.

This clearly indicates a **routing / route mismatch** issue, not an auth or backend problem.

ğŸ¯ GOAL FOR THIS TURN

1) Fix the React router configuration so that all main pages (Dashboard, AI Writer, Songwriter, Documents, File Uploads, Templates, Style Profiles, Search, Topics, Archive, Settings, Admin, Legal pages) are correctly registered and render without 404.
2) Keep ALL existing business logic (auth, plans, admin, billing, usage limits) untouched.
3) Run a full UI/route verification and confirm no regressions.

DO NOT change authentication, QueryClientProvider, admin/billing logic, or env var names. Only fix and clean up routing + page registration.

---

ğŸ§© PART 1 â€” ANALYZE CURRENT ROUTES

1) Open the main routing files on the client, for example:
   - `client/src/App.tsx`
   - `client/src/router.tsx` or similar
   - Any shared layout routes (like `AppLayout` or `MainLayout`)

2) Find:
   - The definition for the **Dashboard** route.
   - The layout that wraps all workspace pages (the one that shows the sidebar and main content).
   - The 404 / â€œPage Not Foundâ€ component and its route (likely a catch-all route).

3) Determine why `/dashboard` (or the default route) is hitting the 404:
   - Is the path changed?
   - Is the element not imported correctly?
   - Is the default redirect pointing to a non-existent route?

---

ğŸ§© PART 2 â€” FIX CORE ROUTE REGISTRATION

1) Ensure the following routes exist and are mapped to their corresponding pages:

   - `/dashboard` â†’ Dashboard page
   - `/ai-writer` (or whatever is used) â†’ AI Writer page
   - `/songwriter` â†’ Songwriter page
   - `/documents` â†’ Documents page
   - `/file-uploads` â†’ FileUploads page
   - `/templates` â†’ Templates page
   - `/style-profiles` â†’ StyleProfiles page
   - `/search` â†’ Search page
   - `/topics` â†’ Topics page
   - `/archive` â†’ Archive page
   - `/settings` â†’ Settings page
   - `/admin` â†’ Admin page (admin-only)
   - `/legal/imprint` â†’ Imprint page
   - `/legal/privacy` â†’ Privacy page
   - `/legal/terms` â†’ Terms page
   - `/legal/payment` â†’ Payment Policy page

2) Make sure these routes are nested correctly inside the main app layout so that:
   - Sidebar + header + footer render once.
   - The main content area swaps out per route.

3) Ensure the **404 / NotFound route** is only used as a fallback:
   - It should be the last route or use a `"*"` pattern.
   - It must NOT accidentally override legitimate routes.

4) Default route behavior:

   - If the user goes to `/`:
     - Redirect them to `/dashboard` (or whichever is the main page) after auth.
   - Make sure this redirect points to a REAL registered path.

---

ğŸ§© PART 3 â€” SIDEBAR & LINKS CONSISTENCY

1) Open `client/src/components/AppSidebar.tsx` (or the sidebar component).

2) Ensure every menu itemâ€™s `to`/`href` path matches the actual route paths you set in Part 2.

   - Dashboard â†’ `/dashboard`
   - AI Writer â†’ `/ai-writer`
   - Songwriter â†’ `/songwriter`
   - Documents â†’ `/documents`
   - File Uploads â†’ `/file-uploads`
   - Templates â†’ `/templates`
   - Style Profiles â†’ `/style-profiles`
   - Search â†’ `/search`
   - Topics â†’ `/topics`
   - Archive â†’ `/archive`
   - Settings â†’ `/settings`
   - Admin (only for role="admin") â†’ `/admin`

3) In the **footer**:

   - Ensure links match:
     - Imprint â†’ `/legal/imprint`
     - Privacy â†’ `/legal/privacy`
     - Terms of Use â†’ `/legal/terms`
     - Payment Policy â†’ `/legal/payment`

4) Fix any mismatches so clicking any link navigates to a valid, registered route.

---

ğŸ§© PART 4 â€” DO NOT TOUCH CORE LOGIC

While doing the above, DO NOT change:

- QueryClientProvider placement (keep it only at the root where itâ€™s already working).
- Auth flow or `/auth/me` logic.
- Admin routes (`/api/admin/*`), billing routes (`/api/billing/*`), or plans logic.
- Daily limit logic.
- Stripe integration and â€œStripe not configuredâ€ handling.

Only adjust:
- Route definitions.
- Route imports.
- Sidebar/footer links.
- NotFound fallback placement.

---

ğŸ§© PART 5 â€” VERIFICATION

After fixing routing:

1) Run:

   ```bash
   npm run build
